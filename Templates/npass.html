<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Passenger Details</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
*{
    margin:0;
    padding:0;
    box-sizing:border-box;
}

body{
    font-family:'Segoe UI',sans-serif;
    min-height:100vh;
    display:flex;
    flex-direction:column;
    background:linear-gradient(rgba(0,0,0,0.6),rgba(0,0,0,0.6)),
               url("https://images.unsplash.com/photo-1508780709619-79562169bc64");
    background-size:cover;
    background-position:center;
}

/* ================= HEADER ================= */
header{
    background:rgba(102,126,234,0.95);
    padding:15px 50px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    color:white;
}

header h2{
    font-weight:600;
}

header a{
    color:white;
    text-decoration:none;
    margin-left:20px;
}

/* ================= MAIN FORM ================= */
.container{
    flex:1;
    display:flex;
    justify-content:center;
    align-items:center;
    padding:40px 20px;
}

.form-card{
    width:800px;
    max-width:95%;
    background:rgba(255,255,255,0.15);
    backdrop-filter:blur(20px);
    padding:35px;
    border-radius:20px;
    color:white;
    box-shadow:0 10px 40px rgba(0,0,0,0.4);
}

.form-card h2{
    text-align:center;
    margin-bottom:20px;
}

.passenger{
    background:rgba(255,255,255,0.1);
    padding:15px;
    border-radius:12px;
    margin-bottom:20px;
}

.field{
    margin-bottom:12px;
}

.field label{
    display:block;
    margin-bottom:5px;
}

.field input,
.field select{
    width:100%;
    padding:8px;
    border-radius:8px;
    border:none;
    outline:none;
}

/* BUTTONS */
.btn{
    padding:10px 15px;
    border:none;
    border-radius:8px;
    cursor:pointer;
    margin:5px 5px 0 0;
}

.add-btn{background:#00d4ff;color:white;}
.remove-btn{background:#ff4b2b;color:white;}
.submit-btn{background:#04AA6D;color:white;width:100%;margin-top:15px;}

.btn:hover{opacity:0.85}

/* SUMMARY MODAL */
.summary{
    position:fixed;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    background:white;
    color:black;
    padding:25px;
    border-radius:15px;
    width:400px;
    display:none;
    z-index:2000;
}

.summary h3{
    margin-bottom:15px;
}

.summary button{
    margin-top:15px;
    background:#04AA6D;
    color:white;
    border:none;
    padding:8px 15px;
    border-radius:6px;
}

/* ================= FOOTER ================= */
footer{
    background:rgba(0,0,0,0.8);
    color:white;
    text-align:center;
    padding:10px;
}
</style>
</head>

<body>

<!-- HEADER -->
<header>
    <h2><i class="fas fa-train"></i> Railway Reservation</h2>
    <div>
        <a href="/selecttrains">Home</a>
        <a href="/">Logout</a>
    </div>
</header>

<div class="container">

<form class="form-card" id="passengerForm" action="/passengers" method="post">

    <h2><i class="fas fa-users"></i> Passenger Details</h2>

    <div id="passengerContainer"></div>

    <button type="button" class="btn add-btn" onclick="addPassenger()">
        <i class="fas fa-plus"></i> Add Passenger
    </button>

    <button type="button" class="btn submit-btn" onclick="showSummary()">
        Submit Details
    </button>

</form>

</div>

<!-- SUMMARY MODAL -->
<div class="summary" id="summaryBox">
    <h3>Booking Summary</h3>
    <div id="summaryContent"></div>
    <button onclick="confirmSubmit()">Confirm Booking</button>
</div>

<!-- FOOTER -->
<footer>
    Â© 2026 Railway Management System | Safe & Secure Journey
</footer>

<script>
let passengerCount = 0;

function addPassenger(){
    passengerCount++;
    const container = document.getElementById("passengerContainer");

    const div = document.createElement("div");
    div.className="passenger";
    div.innerHTML = `
        <h3>Passenger ${passengerCount}</h3>
        <div class="field">
            <label>Name</label>
            <input required name="name${passengerCount}">
        </div>
        <div class="field">
            <label>Age</label>
            <input type="number" min="1" max="120" required name="age${passengerCount}">
        </div>
        <div class="field">
            <label>Gender</label>
            <select required name="gender${passengerCount}">
                <option value="">Select Gender</option>
                <option>Male</option>
                <option>Female</option>
                <option>Transgender</option>
            </select>
        </div>
        <button type="button" class="btn remove-btn" onclick="this.parentElement.remove()">
            Remove
        </button>
    `;
    container.appendChild(div);
}

function showSummary(){
    const form = document.getElementById("passengerForm");
    if(!form.checkValidity()){
        form.reportValidity();
        return;
    }

    let summary = "";
    const passengers = document.querySelectorAll(".passenger");

    passengers.forEach((p, index)=>{
        const name = p.querySelector("input[name^='name']").value;
        const age = p.querySelector("input[name^='age']").value;
        const gender = p.querySelector("select").value;

        summary += `<p><b>Passenger ${index+1}</b>: ${name}, Age ${age}, ${gender}</p>`;
    });

    document.getElementById("summaryContent").innerHTML = summary;
    document.getElementById("summaryBox").style.display="block";
}

function confirmSubmit(){
    document.getElementById("passengerForm").submit();
}
</script>

</body>
</html>